"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"PMB-000","P0","0","both","基础设施搭建","搭建 Go/Gin 服务端骨架、JWT 鉴权中间件、数据库连接；客户端新增 SelfRequest 通道和登录/注册 UI","1) POST /auth/register 返回 JWT；2) POST /auth/login 返回 JWT；3) JWT 中间件拦截未授权请求返回 code!=0；4) 客户端 SelfRequest 携带 Bearer Token 成功请求受保护接口","AUTOE2E","JWT 密钥管理安全性；SelfRequest 拦截器不干扰原有 Request 请求","注册/登录/鉴权全链路回归；Token 过期与刷新场景","已完成","已完成","未开始","已提交","","PLAN.md:108-130;server/handler/auth.go:1;server/middleware/auth.go:1","Phase 0 已上线"
"PMB-010","P0","1","both","稍后再看迁移","实现稍后再看 CRUD 四个接口及连播列表分流，服务端代理查询 B 站视频元信息并缓存","1) GET /x/v2/history/toview/web 返回与官方一致的 JSON 结构；2) POST add/dels/clear 操作后列表状态正确；3) 连播列表 type=0 走自建服务器；4) 添加视频后 title/pic/owner 等字段自动填充","AUTOE2E","元数据代理查询的缓存策略；UNIQUE 约束冲突处理（重复添加→更新 added_at）","批量删除边界（空列表/全删）；清空三种 clean_type 逻辑；视频失效时占位文本","已完成","已完成","未开始","已提交","","PLAN.md:133-276;server/handler/watch_later.go:1","Phase 1 已上线"
"PMB-020","P0","2","both","观看历史迁移","实现观看历史游标分页列表、搜索、删除、清空、暂停/恢复、heartbeat 进度上报、历史上报及进度查询接口","1) GET history/cursor 游标分页返回正确且与官方格式一致；2) heartbeat 每 5s 上报后 progress/view_at 更新；3) 暂停状态下 heartbeat 不写入新记录；4) bvid→aid 自动解析；5) GET history/progress 返回 last_play_time(ms) 用于恢复播放进度","AUTOE2E","heartbeat 高频写入性能；bvid→aid 解析缓存；游标分页边界（空表/首页/末页）","暂停→恢复→上报全链路；搜索中文关键词；多视频并发 heartbeat；进度恢复准确性","已完成","已完成","未开始","已提交","","PLAN.md:279-380;server/handler/history.go:1;server/model/watch_history.go:1","Phase 2 已上线，含 progress 端点"
"PMB-030","P0","3","both","收藏夹迁移","实现收藏夹 CRUD（创建/编辑/删除/排序/列表）及收藏内容管理（批量收藏/取消/复制/移动/清理），含稍后再看→收藏夹交叉操作","1) 收藏夹 CRUD 全部接口返回与官方一致格式；2) batch-deal 可同时添加和移除多个文件夹；3) copy/move 在文件夹间正确转移；4) 稍后再看 toview/copy 和 toview/move 正常工作；5) media_count 实时准确","AUTOE2E","收藏夹 media_id 分配策略；排序字段实现方式（sort_order）；元数据代理复用 Phase 1 缓存","跨文件夹批量操作原子性；收藏数上限压测；失效视频清理逻辑；与 Phase 1 交叉操作回归","未开始","未开始","未开始","未提交","","PLAN.md:383-484;server/handler/favorite.go(待创建)","最复杂模块，约 15 个端点"
"PMB-040","P1","4.1","both","关注列表与分组迁移","实现关注列表 CRUD、分组管理（创建/编辑/删除）、分组成员管理、特别关注添加/移除，脱离官方 API","1) GET followings 分页返回关注列表；2) 分组 CRUD 操作后列表一致；3) 特别关注标记正确；4) 搜索关注支持用户名模糊匹配；5) 关注操作不再向 B 站发送请求","AUTOE2E","关注列表本质变为本地订阅，确保 UI 展示与动态流筛选兼容；relationMod 全部走 SelfRequest","分组删除后成员归属；特别关注上限；与动态流页面联动回归","未开始","未开始","未开始","未提交","","PLAN.md:487-597;server/handler/follow.go(待创建)",""
"PMB-050","P1","4.2","both","追番/追剧迁移","实现追番列表获取、追番/取消追番、追番状态更新（想看/在看/已看），脱离官方 pgc API","1) GET bangumi/follow/list 分页返回追番列表；2) POST add/del 操作正确；3) status/update 状态枚举（1想看/2在看/3已看）切换正确；4) 元数据（title/cover/new_ep_desc）自动填充","AUTOE2E","season_type 区分番剧/电影/纪录片；元数据来源（pgc API 公开性确认）","追番列表排序与筛选；状态流转全路径；与收藏夹追番 tab 的 UI 兼容","未开始","未开始","未开始","未提交","","PLAN.md:522-582;server/handler/follow.go(待创建)","可与 PMB-040 合并实现"
